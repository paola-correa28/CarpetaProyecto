<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=, initial-scale=1.0">
    <title>DATOS DE ENTRADA DE MOVIMIENTOS O FACTURAS</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <div class="w3-row"></div>
    <div class="w3-container w3-padding">
        <style>
            h1 {
                text-align: center;
            }
        </style>
        <div class="w3-row">
            <div class="w3-container w3-padding">
                <div class="w3-container w3-black">
                    <a href="formulario1.html" class="w3-bar-item w3-button">INGRESO DE PRODUCTOS</a>
                    <a href="formulario2.html" class="w3-bar-item w3-button">INGRESO DE FACTURAS</a>
                    <a href="formulario3.html" class="w3-bar-item w3-button">INGRESO DE PROVEEDORES</a>
                    <a href="formulario4.html" class="w3-bar-item w3-button">INGRESO DE EMPLEADOS</a>
                    <a href="formulario5.html" class="w3-bar-item w3-button">COMPRAS DE CLIENTES</a>
                </div>
</head>

<body>
    <div class="w3-row">
        <div class="w3-col m5 14">
            <div class="w3-container w3-padding">
                <div class="w3-container w3-black">
                    <h1>Entrada de facturas</h1>
                </div>
                <form action="Guardar" id="datfactura" href="#" class="w3-containe">

                    <br><label for="idmovimiento">ID del movimiento:</label>
                    <input type="number" class="w3-input" id="idmovimiento" name="idmovimiento" required><br>

                    seleccione el metodo de movimiento
                    <br><select name="tipmovimiento">
                        <option value="1">Tranferencia</option>
                        <option value="1">Tarjeta de credito</option>
                        <option value="1">Pago en efectivo</option>
                        <option value="1">Cheque</option>
                    </select><br>

                    <br><label for="numfactmovimiento">numero de factura del movimiento:</label>
                    <input type="number" class="w3-input" id="numfactmovimiento" name="numfactmovimiento" required><br>

                    Selecciona la fecha y hora de movimiento:
                    <br><input type="datetime-local" value="2024-07-23T11:00" min="2024-02-23T11:00"
                        max="2024-12-23T11:00" step="3600">

                    <label for="tolmovimiento">total del movimiento:</label>
                    <input type="number" class="w3-input" id="tolmovimiento" name="tolmovimiento" required><br>

                    <label for="tolivamovimiento">total iva del movimiento:</label>
                    <input type="number" class="w3-input" id="tolivamovimiento" name="tolivamovimiento" required><br>

                    <label for="empmovimiento">Nombre de la empresa:</label>
                    <input type="text" class="w3-input" id="nombreempresa" name="tolivamovimiento" required
                        placeholder="o nombre de persona"><br>

                    <input type="submit" id="Enviar" value="Guardar">
                    <p id="mip"></p>

                    <a href="tabla2.html">FACTURAS</a> <a href="menuprincipal.html">ATRAS</a>

            </div>
            </form>
            <script>
                //http://localhost/xampp/htdocs/TAREA/formulario2.html

                window.onload = function () {
                    document.getElementById("Guardar").onclick = function (event) {
                        event.preventDefault();
                        let iddelmovimiento = document.getElementById("idmovimiento").value;
                        let tipomovimiento = document.getElementById("tipmovimiento").value;
                        let numerofactmovimiento = document.getElementById("numfactmovimiento").value;
                        let totalmovimiento = document.getElementById("tolmovimiento").value;
                        let totalivamovimiento = document.getElementById("tolivamovimiento").value;
                        let nombreempresas = document.getElementById("nombreempresa").value;

                        let parametros = "?idmovimiento=" + iddelmovimiento + "&tipmovimiento=" + tipomovimiento + "&numfactmovimiento=" + numerofactmovimiento +
                            "&tolmovimiento=" + totalmovimiento + "&tolivamovimiento=" + totalivamovimiento + "&nombreempresa=" + nombreempresas;

                        let request = new Request('recibeformulario2.php' + parametros,
                            {
                                method: 'get',
                                headers: { 'Content-Type': 'application/x-www-form-urlencoded' }
                            });
                        fetch(request).then(function (returnedValue) {
                            if (returnedValue.ok) {
                                console.log("operacion correcta");
                                returnedValue.text().then((txt) => {
                                    console.log('muestro respuesta: ', txt);
                                    document.write('recibo de regreso: ', txt);
                                });
                            }
                        }).catch(function (err) {
                            console.log(err);
                        });
                    }
                };
            </script>
</body>

</html>