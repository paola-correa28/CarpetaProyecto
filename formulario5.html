<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=, initial-scale=1.0">
    <title>VENTAS</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <div class="w3-row"></div>
    <div class="w3-container w3-padding">
        <style>
            h1 {
                text-align: center;
            }
        </style>
        <div class="w3-row">
            <div class="w3-container w3-padding">
                <div class="w3-container w3-black">
                    <a href="formulario1.html" class="w3-bar-item w3-button">INGRESO DE PRODUCTOS</a>
                    <a href="formulario2.html" class="w3-bar-item w3-button">INGRESO DE FACTURAS</a>
                    <a href="formulario3.html" class="w3-bar-item w3-button">INGRESO DE PROVEEDORES</a>
                    <a href="formulario4.html" class="w3-bar-item w3-button">INGRESO DE EMPLEADOS</a>
                    <a href="formulario5.html" class="w3-bar-item w3-button">COMPRAS DE CLIENTES</a>
                </div>
</head>

<body>
    <div class="w3-row">
        <div class="w3-col m5 14">
            <div class="w3-container w3-padding">
                <div class="w3-container w3-black">
                    <h1>REPORTE DE VENTA</h1>
                </div>
                <form action="Guardar" id="datventa" href="#" class="w3-containe">

                    <br><label for="idmoventa">ID del movimiento de venta:</label>
                    <input type="number" class="w3-input" id="idmoventa" name="idmoventa" required><br>

                    seleccione el metodo de movimiento
                    <br><select name="tipmovimientoventa">
                        <option value="1">Tranferencia</option>
                        <option value="1">Tarjeta de credito</option>
                        <option value="1">Pago en efectivo</option>
                        <option value="1">Cheque</option>
                    </select><br>

                    <br><label for="numfactmovi">numero de factura de venta:</label>
                    <input type="number" class="w3-input" id="numfactmovi" name="numfactmovi" required><br>

                    Selecciona la fecha y hora de venta:
                    <br><input type="datetime-local" value="2024-07-23T11:00" min="2024-02-23T11:00"
                        max="2024-12-23T11:00" step="3600">

                    <label for="tolcom">total de compra:</label>
                    <input type="number" class="w3-input" id="tolcom" name="tolcom" required><br>

                    <label for="procom">productos comprados:</label>
                    <input type="text" class="w3-input" id="procom" name="procom" required><br>

                    <input type="submit" id="Enviar" value="Guardar">
                    <p id="mip"></p>

                    <a href="tabla5.html">REPORTE DE COMPRA</a> <a href="menuprincipal.html">ATRAS</a>

            </div>
            </form>
            <script>
                //http://localhost/xampp/htdocs/TAREA/formulario5.html

                window.onload = function () {
                    document.getElementById("Guardar").onclick = function (event) {
                        event.preventDefault();
                        let iddelmovimientodeventa = document.getElementById("iddelmovimientodeventa").value;
                        let tipomovimientoventa = document.getElementById("tipmovimientoventa").value;
                        let numerofactventa = document.getElementById("numfactmovi").value;
                        let totalcompra = document.getElementById("tolcom").value;
                        let productoscomprados = document.getElementById("procom").value;

                        let parametros = "?idmoventa=" + iddelmovimientodeventa + "&tipmovimientoventa=" + tipomovimientoventa + "&numfactmovi" + numerofactventa +
                            "&tolcom=" + totalcompra + "&procom=" + productoscomprados;

                        let request = new Request('recibeformulario5.php' + parametros,
                            {
                                method: 'get',
                                headers: { 'Content-Type': 'application/x-www-form-urlencoded' }
                            });
                        fetch(request).then(function (returnedValue) {
                            if (returnedValue.ok) {
                                console.log("operacion correcta");
                                returnedValue.text().then((txt) => {
                                    console.log('muestro respuesta: ', txt);
                                    document.write('recibo de regreso: ', txt);
                                });
                            }
                        }).catch(function (err) {
                            console.log(err);
                        });
                    }
                };
            </script>
</body>
</form>

</html>